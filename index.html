<!DOCTYPE html>
<html lang="vi">

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="./gpc-datetimepicker.css" />
	<style type="text/css">
		body {
			font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
		}
	</style>
</head>

<body>
	<h3>DateTimePicker</h3>
	<input type="text" value="" id="gdatetimepicker" />
	<div>
		<button id="btn">Current value</button>
	</div>
	<script src="dayjs/dayjs.min.js"></script>
	<script src="dayjs/locale/vi.js"></script>
	<script src="dayjs/plugin/customParseFormat.js"></script>
	<script src="./gdatetimepicker.js"></script>
	<script>
		dayjs.locale('vi');
		dayjs.extend(window.dayjs_plugin_customParseFormat);

		const gdatetimepicker = new GDatetimepicker('#gdatetimepicker', {
			mask: false,
			format: 'DD/MM/YYYY HH:mm',
			step: 30,
			//timepicker: false,
			defaultSelect: true,
			// yearStart: 2023,
			// yearEnd: 2025,
			//minDate: '2024/12/04',
			className: 'hello world',
			// allowTimes: ['09:00', '11:00', '12:00', '21:00'],
			// disabledTimes: ['11:00', '12:00'],

			beforeShowTime: function (currentDateTime) {
				let day = currentDateTime.getDay();
				if (day == 6 || day == 0) {
					return {
						minTime: '10:00',
						maxTime: '21:00',
					};
				} else {
					return {
						minTime: '8:00',
						maxTime: '21:00',
						disabledTimes: ['12:00', '12:30', '13:00', '13:30']
					};
				}
			},
		});

		document.querySelector('#btn').addEventListener('click', (e) => {
			console.log('current value');
			console.log(gdatetimepicker.getValue());
			console.log('now');
			console.log(gdatetimepicker.now());
		});
	</script>
</body>

</html>